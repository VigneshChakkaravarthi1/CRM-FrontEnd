{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cvignesh\\\\Desktop\\\\CRM Front End\\\\src\\\\pages\\\\components\\\\Login\\\\Login.Comp.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Row, Col, Form, Container, Button, Spinner, Alert } from 'react-bootstrap';\nimport propTypes from 'prop-types';\nimport { loginPending, loginSuccess, loginFailure } from \"./LoginSlice\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { userLogin } from '../../../api/userApi.js';\nimport { useHistory } from 'react-router-dom';\nimport { getUserProfile } from \"./../../dashboard/userAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    isLoading,\n    isAuth,\n    error\n  } = useSelector(state => state.login);\n  const [formLoad, setFormLoad] = useState('login');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleOnChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n\n    if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    }\n  };\n\n  const formSwitcher = formType => {\n    setFormLoad(formType);\n  };\n\n  const handleOnResetSubmit = event => {\n    event.preventDefault(); //\n  };\n\n  const handleOnSubmit = async event => {\n    event.preventDefault();\n\n    if (!email || !password) {\n      return alert(\"Fill up the form\");\n    }\n\n    dispatch(loginPending());\n\n    try {\n      const result = await userLogin({\n        email,\n        password\n      });\n\n      if (result.status === \"error\") {\n        dispatch(loginFailure(result.message));\n      } else {\n        history.push(\"/dashboard\");\n        dispatch(loginSuccess());\n        dispatch(getUserProfile());\n      }\n    } catch (error) {\n      dispatch(loginFailure(error));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-info text-center\",\n            children: \"Client Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            autoComplete: \"off\",\n            onSubmit: handleOnSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                value: email,\n                name: \"email\",\n                placeholder: \"Enter Email\",\n                required: true,\n                onChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                value: password,\n                name: \"password\",\n                placeholder: \"Enter password\",\n                onChange: handleOnChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), isLoading && /*#__PURE__*/_jsxDEV(Spinner, {\n              variant: \"primary\",\n              animation: \"border\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => formSwitcher('reset'),\n            children: \"Forget Password ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"AbhJLgYLi8ghCUZ41usSXu3Q1X0=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = Login;\nLogin.propTypes = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Row","Col","Form","Container","Button","Spinner","Alert","propTypes","loginPending","loginSuccess","loginFailure","useDispatch","useSelector","useState","userLogin","useHistory","getUserProfile","Login","history","dispatch","isLoading","isAuth","error","state","login","formLoad","setFormLoad","email","setEmail","password","setPassword","handleOnChange","event","name","value","target","formSwitcher","formType","handleOnResetSubmit","preventDefault","handleOnSubmit","alert","result","status","message","push"],"sources":["C:/Users/cvignesh/Desktop/CRM Front End/src/pages/components/Login/Login.Comp.js"],"sourcesContent":["import React from 'react'\r\nimport {Row,Col,Form, Container, Button, Spinner, Alert} from 'react-bootstrap'\r\nimport propTypes from 'prop-types';\r\nimport {loginPending,loginSuccess,loginFailure} from \"./LoginSlice\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport {userLogin} from '../../../api/userApi.js'\r\nimport { useHistory } from 'react-router-dom';\r\nimport {getUserProfile} from \"./../../dashboard/userAction\"\r\nexport const Login = () => {\r\n    const history=useHistory()\r\n    const dispatch = useDispatch()\r\n    const {isLoading,isAuth,error}=useSelector(state=>state.login)\r\n    const [formLoad,setFormLoad]=useState('login')\r\n    const [email,setEmail]=useState('')\r\n    const [password,setPassword]=useState('')\r\n\r\n    \r\n\r\n    const handleOnChange = (event)=>{\r\n    const {name,value}=event.target\r\n    if(name === 'email')\r\n        {\r\n            setEmail(value)\r\n        }\r\n    else if (name ==='password')\r\n    {\r\n    setPassword(value)\r\n    }\r\n    }\r\n\r\n    const formSwitcher= formType=>{\r\n        setFormLoad(formType)\r\n    }\r\n\r\n    const handleOnResetSubmit=(event)=>{\r\n        event.preventDefault();\r\n        //\r\n    }\r\n    const handleOnSubmit=async(event)=>{\r\n\r\n        event.preventDefault()\r\n        if(!email || !password)\r\n        {\r\n            return alert(\"Fill up the form\")\r\n        }\r\n\r\n        dispatch(loginPending())\r\n\r\n        try{\r\n            const result = await userLogin({email,password})\r\n            if(result.status===\"error\")\r\n            {\r\n                dispatch(loginFailure(result.message))\r\n            }\r\n            else\r\n            {\r\n                history.push(\"/dashboard\")\r\n                dispatch(loginSuccess())\r\n                dispatch(getUserProfile())\r\n            }\r\n            \r\n        }\r\n        catch(error)\r\n        {\r\n            dispatch(loginFailure(error))\r\n        }\r\n    }\r\n  return (\r\n    <div >\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                <h1 className='text-info text-center'>Client Login</h1>\r\n                <hr></hr>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form autoComplete='off' onSubmit={handleOnSubmit}>\r\n                    <Form.Group>\r\n                        <Form.Label>Email Address</Form.Label>\r\n                        <Form.Control type=\"email\" value={email} name=\"email\" placeholder='Enter Email' required onChange={handleOnChange}/>\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" value= {password}name=\"password\" placeholder='Enter password' onChange={handleOnChange} required/>\r\n                    </Form.Group>\r\n                    <Button type=\"submit\">Login</Button>\r\n                    {isLoading && <Spinner variant=\"primary\" animation='border'></Spinner>}\r\n                    \r\n                    \r\n                </Form>\r\n                <hr></hr>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                <a href=\"#\" onClick={()=>formSwitcher('reset')}>Forget Password ?</a>\r\n                </Col>\r\n            </Row>\r\n\r\n        </Container>\r\n    </div>\r\n  )\r\n}\r\nLogin.propTypes={\r\n   \r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}