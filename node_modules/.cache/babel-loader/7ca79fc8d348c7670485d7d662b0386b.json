{"ast":null,"code":"import axios from \"axios\";\nconst rootUrl = \"http://localhost:3001/\";\nconst loginUrl = rootUrl + \"v1/user/login\";\nconst userProfileUrl = rootUrl + \"v1/user\";\nexport const userLogin = formData => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.post(loginUrl, formData);\n\n      if (result.data.status == \"success\") {\n        console.log(\"Heeyyy\");\n        sessionStorage.setItem('accessJWT', result.data.accessJWT);\n        localStorage.setItem(\"crmSite\", JSON.stringify({\n          refreshJWT: result.data.refreshJWT\n        }));\n      }\n\n      resolve(result.data);\n    } catch (error) {\n      console.log(error);\n      reject(error);\n    }\n  });\n};\nexport const fetchUser = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.post(userProfileUrl, formData);\n\n      if (result.data.status == \"success\") {\n        console.log(\"Heeyyy\");\n        sessionStorage.setItem('accessJWT', result.data.accessJWT);\n        localStorage.setItem(\"crmSite\", JSON.stringify({\n          refreshJWT: result.data.refreshJWT\n        }));\n      }\n\n      resolve(result.data);\n    } catch (error) {\n      console.log(error);\n      reject(error);\n    }\n  });\n};","map":{"version":3,"names":["axios","rootUrl","loginUrl","userProfileUrl","userLogin","formData","Promise","resolve","reject","result","post","data","status","console","log","sessionStorage","setItem","accessJWT","localStorage","JSON","stringify","refreshJWT","error","fetchUser"],"sources":["C:/Users/cvignesh/Desktop/CRM Front End/src/api/userApi.js"],"sourcesContent":["\r\nimport axios from \"axios\"\r\nconst rootUrl = \"http://localhost:3001/\"\r\nconst loginUrl= rootUrl+\"v1/user/login\"\r\nconst userProfileUrl= rootUrl+\"v1/user\"\r\nexport const userLogin = formData=>{\r\n    return new Promise(async(resolve,reject)=>{\r\n        try{\r\nconst result = await axios.post(loginUrl,formData)\r\n\r\nif(result.data.status==\"success\")\r\n{\r\n    console.log(\"Heeyyy\")\r\n    sessionStorage.setItem('accessJWT',result.data.accessJWT)\r\n    localStorage.setItem(\"crmSite\",JSON.stringify({refreshJWT:result.data.refreshJWT}))\r\n}\r\nresolve(result.data)\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error)\r\n            reject(error)\r\n        }\r\n    })\r\n}\r\n\r\nexport const fetchUser = ()=>{\r\n    return new Promise(async(resolve,reject)=>{\r\n        try{\r\n\r\nconst result = await axios.post(userProfileUrl,formData)\r\n\r\n\r\nif(result.data.status==\"success\")\r\n{\r\n    console.log(\"Heeyyy\")\r\n    sessionStorage.setItem('accessJWT',result.data.accessJWT)\r\n    localStorage.setItem(\"crmSite\",JSON.stringify({refreshJWT:result.data.refreshJWT}))\r\n}\r\nresolve(result.data)\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error)\r\n            reject(error)\r\n        }\r\n    })\r\n}"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,wBAAhB;AACA,MAAMC,QAAQ,GAAED,OAAO,GAAC,eAAxB;AACA,MAAME,cAAc,GAAEF,OAAO,GAAC,SAA9B;AACA,OAAO,MAAMG,SAAS,GAAGC,QAAQ,IAAE;EAC/B,OAAO,IAAIC,OAAJ,CAAY,OAAMC,OAAN,EAAcC,MAAd,KAAuB;IACtC,IAAG;MACX,MAAMC,MAAM,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWR,QAAX,EAAoBG,QAApB,CAArB;;MAEA,IAAGI,MAAM,CAACE,IAAP,CAAYC,MAAZ,IAAoB,SAAvB,EACA;QACIC,OAAO,CAACC,GAAR,CAAY,QAAZ;QACAC,cAAc,CAACC,OAAf,CAAuB,WAAvB,EAAmCP,MAAM,CAACE,IAAP,CAAYM,SAA/C;QACAC,YAAY,CAACF,OAAb,CAAqB,SAArB,EAA+BG,IAAI,CAACC,SAAL,CAAe;UAACC,UAAU,EAACZ,MAAM,CAACE,IAAP,CAAYU;QAAxB,CAAf,CAA/B;MACH;;MACDd,OAAO,CAACE,MAAM,CAACE,IAAR,CAAP;IACS,CAVD,CAWA,OAAMW,KAAN,EACA;MACIT,OAAO,CAACC,GAAR,CAAYQ,KAAZ;MACAd,MAAM,CAACc,KAAD,CAAN;IACH;EACJ,CAjBM,CAAP;AAkBH,CAnBM;AAqBP,OAAO,MAAMC,SAAS,GAAG,MAAI;EACzB,OAAO,IAAIjB,OAAJ,CAAY,OAAMC,OAAN,EAAcC,MAAd,KAAuB;IACtC,IAAG;MAEX,MAAMC,MAAM,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWP,cAAX,EAA0BE,QAA1B,CAArB;;MAGA,IAAGI,MAAM,CAACE,IAAP,CAAYC,MAAZ,IAAoB,SAAvB,EACA;QACIC,OAAO,CAACC,GAAR,CAAY,QAAZ;QACAC,cAAc,CAACC,OAAf,CAAuB,WAAvB,EAAmCP,MAAM,CAACE,IAAP,CAAYM,SAA/C;QACAC,YAAY,CAACF,OAAb,CAAqB,SAArB,EAA+BG,IAAI,CAACC,SAAL,CAAe;UAACC,UAAU,EAACZ,MAAM,CAACE,IAAP,CAAYU;QAAxB,CAAf,CAA/B;MACH;;MACDd,OAAO,CAACE,MAAM,CAACE,IAAR,CAAP;IACS,CAZD,CAaA,OAAMW,KAAN,EACA;MACIT,OAAO,CAACC,GAAR,CAAYQ,KAAZ;MACAd,MAAM,CAACc,KAAD,CAAN;IACH;EACJ,CAnBM,CAAP;AAoBH,CArBM"},"metadata":{},"sourceType":"module"}